#### Решение на тестовое задание

- [1. Набор ручных тестов для проверки авторизации в паспорте на ya.ru (мобильное устройство)](https://docs.google.com/spreadsheets/d/1G9ZvDLUL0K1Vh3dfXZmAsB4XN1KXje6i7h-3_8ZPSR4/edit#gid=789519302)

Тестирование выполнено на мобильном устройстве **iPhone 14 Pro Max** в **Яндекс.Браузере версии 25.6.3.362**

---

## 1. Набор ручных тестов на авторизацию на ya.ru https://passport.yandex.ru/auth

---

### Тест-кейс № TC-AUTH-MOB-001. Проверка ввода валидного номера телефона

**Предусловие:**  
Открыта форма авторизации, выбрана Россия

**Шаги для выполнения:**

```
1. Ввести валидный номер телефона
2. Нажать на кнопку "Войти"
```

**Тестовые данные:**

```
Телефон: +79876378569
```

**Ожидаемый результат:**

```
Открывается форма ввода кода подтверждения
```

---

### Тест-кейс № TC-AUTH-MOB-002. Проверка успешной авторизации по номеру телефона и коду подтверждения

**Предусловие:**  
Открыта форма ввода кода подтверждения после ввода номера

**Шаги для выполнения:**

```
1. Дождаться получения одноразового кода на указанный номер
2. Ввести полученный код
3. Нажать на кнопку "Далее"
```

**Тестовые данные:**

```
Одноразовый код из SMS или пуш-уведомления на номер +79876378569
```

**Ожидаемый результат:**

```
Пользователь успешно авторизован, происходит переход в личный кабинет
```

---

### Тест-кейс № TC-AUTH-MOB-003. Проверка повторной отправки кода через "Получить новый код с помощью смс".

**Предусловие:**  
Открыта форма ввода кода подтверждения после ввода номера

**Шаги для выполнения:**

```
1. Нажать на кнопку "Получить новый код"
2. Выбрать "В смс"
3. Подтвердить получение
```

**Тестовые данные:**

```
Телефон: +79876378569
```

**Ожидаемый результат:**

```
Отображается сообщение об отправке нового кода
```

---

### Тест-кейс № TC-AUTH-MOB-004. Проверка успешной авторизации по биометрии (Face ID)

**Предусловие:**  
Открыта форма авторизации, устройство поддерживает биометрию

**Шаги для выполнения:**

```
1. Нажать на кнопку "По лицу или отпечатку"
2. Подтвердить вход через Face ID
```

**Тестовые данные:**

```
Face ID
```

**Ожидаемый результат:**

```
Пользователь успешно авторизован
```

---

### Тест-кейс № TC-AUTH-MOB-005. Проверка успешной авторизации по логину и паролю

**Предусловие:**  
Открыта форма входа по логину

**Шаги для выполнения:**

```
1. Ввести валидный логин
2. Ввести валидный пароль
3. Нажать на кнопку "Войти"
```

**Тестовые данные:**

```
Логин: test_user
Пароль: test_pass123
```

**Ожидаемый результат:**

```
Переход в личный кабинет
```

---

### Тест-кейс № TC-AUTH-MOB-006. Проверка корректности статуса ответа сервера

**Предусловие:**  
Открыта форма авторизации. DevTools открыт во вкладке Network до начала действий на странице авторизации. Включён фильтр XHR или All.

**Шаги для выполнения:**

```
1. Ввести валидный номер телефона в поле ввода
2. Нажать на кнопку "Войти"
3. Перейти во вкладку DevTools → Network
4. Найти запрос к https://passport.yandex.ru/registration-validations/validate-phone
5. Перейти во вкладку Response и изучить JSON-тело ответа запроса
```

**Тестовые данные:**

```
Телефон: +79876378569
```

**Ожидаемый результат:**

```
Ответ должен иметь HTTP статус 200 OK. В теле JSON-ответа присутствуют поля:
• "status": "ok"
• "track_id" — уникальный идентификатор сессии
• "phone_number.e164" — соответствует введённому номеру
• "valid_for_sms": true
```

---

### Тест-кейс № TC-AUTH-MOB-007. Проверка ввода невалидного номера телефона без кода страны (+)

**Предусловие:**  
Открыта форма авторизации

**Шаги для выполнения:**

```
1. Ввести невалидный номер телефона
2. Нажать на кнопку "Войти"
```

**Тестовые данные:**

```
Телефон: 9991234567
```

**Ожидаемый результат:**

```
Появляется ошибка "Недопустимый формат номера"
```

---

### Тест-кейс № TC-AUTH-MOB-008. Проверка ошибки при попытке авторизации с пустым полем ввода номера

**Предусловие:**  
Открыта форма авторизации

**Шаги для выполнения:**

```
1. Оставить поле ввода номера телефона пустым
2. Нажать на кнопку "Войти"
```

**Тестовые данные:**

```
Телефон: ""
```

**Ожидаемый результат:**

```
Появляется ошибка "Недопустимый формат номера"
```

---

### Тест-кейс № TC-AUTH-MOB-009. Проверка валидации при вводе неполного номера телефона с кодом страны

**Предусловие:**  
Открыта форма авторизации, выбрана Россия

**Шаги для выполнения:**

```
1. Ввести недействительный номер телефона
2. Нажать на кнопку "Войти"
```

**Тестовые данные:**

```
Телефон: +7123
```

**Ожидаемый результат:**

```
Появляется ошибка "Недопустимый формат номера"
```

---

### Тест-кейс № TC-AUTH-MOB-010. Проверка ошибки при авторизации по логину с пустым полем пароля

**Предусловие:**  
Открыта форма входа по логину

**Шаги для выполнения:**

```
1. Ввести действительный логин
2. Оставить поле пароля пустым
3. Нажать на кнопку "Войти"
```

**Тестовые данные:**

```
Логин: test_user
Пароль: ""
```

**Ожидаемый результат:**

```
Отображается ошибка "Пароль не указан"
```

---

### Тест-кейс № TC-AUTH-MOB-011. Проверка отсутствия чувствительных данных в теле запроса

**Предусловие:**  
Открыта форма авторизации. DevTools открыт во вкладках Application и Network до начала действий.

**Шаги для выполнения:**

```
1. Ввести валидный номер телефона
2. Нажать на кнопку "Войти"
3. Дождаться запроса отправки кода
4. Проверить заголовки и тело запросов во вкладке Network
5. Перейти в Application и убедиться, что номер и код не сохранены в localStorage/sessionStorage/IndexedDB
6. Убедиться, что номер и код не передаются в URL как query-параметры
```

**Тестовые данные:**

```
Телефон: +79876378569
Одноразовый код из SMS или пуш-уведомления на номер +79876378569
```

**Ожидаемый результат:**

```
Номер телефона и код подтверждения не отображаются в теле запроса в незашифрованном виде, не сохраняются в localStorage/sessionStorage, не содержатся в URL (в виде query-параметров)
```
